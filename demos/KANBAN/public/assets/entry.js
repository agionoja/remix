import{a as ce,b as de,c as C,d as S,e as N,f as O}from"./chunks/chunk-ZIXNRZ3I.js";function m(e,t){let n="Framework invariant";if(!e)throw new Error(t?`${n}: ${t}`:n)}function me(e,t,n){let r=e[0]?.parentNode;m(r,"Parent node not found");let i=e.length>0?e[e.length-1].nextSibling:null,o=Math.max(e.length,t.length);for(let l=0;l<o;l++){let s=e[l],f=t[l];if(!s&&f)i?r.insertBefore(f,i):r.appendChild(f);else if(s&&!f)r.removeChild(s);else if(s&&f){let p=he(s,f,n);p&&(l=t.indexOf(p))}}}function he(e,t,n){if($(e)&&$(t)){let i=t.textContent||"";e.textContent!==i&&(e.textContent=i);return}if(v(e)&&v(t)){let i=n.pendingRoots.get(t);n.pendingRoots.delete(t),m(i,"missing pending virtual root info");let[o,l]=i;return e.$rmx.render(l),o}if(w(e)&&w(t)){let i=t.data;e.data!==i&&(e.data=i);return}if(E(e)&&E(t)){if(e.tagName!==t.tagName){let i=e.parentNode;i&&i.replaceChild(t,e);return}qe(e,t,n),je(e,t,n);return}let r=e.parentNode;r&&r.replaceChild(t,e)}function qe(e,t,n){let r=e.getAttributeNames(),i=t.getAttributeNames(),o=new Set(i);for(let l of r)o.has(l)||e.removeAttribute(l);for(let l of i){let s=e.getAttribute(l),f=t.getAttribute(l);s!==f&&e.setAttribute(l,f==null?"":String(f))}}function je(e,t,n){let r=Array.from(e.childNodes),i=Array.from(t.childNodes),o=new Map;for(let a=0;a<r.length;a++){let u=r[a];if(E(u)){let c=u.getAttribute("data-key");c!=null&&o.set(c,a)}}let l=new Array(r.length).fill(!1),s=new Array(i.length).fill(-1);for(let a=0;a<i.length;a++){let u=i[a],c=-1;if(E(u)){let d=u.getAttribute("data-key");if(d!=null&&o.has(d)){let h=o.get(d);l[h]||(c=h)}}if(c===-1){let d=a;d<r.length&&!l[d]&&Ie(r[d],u)&&(c=d)}c!==-1&&(l[c]=!0),s[a]=c}let f=new Array(i.length);for(let a=0;a<i.length;a++){let u=s[a];if(u!==-1){let c=r[u],d=he(c,i[a],n);if(d){let h=i.indexOf(d),pe=Be(r,u);for(let _=u;_<=pe;_++)l[_]=!0;f[a]=c,f[h]=r[pe];for(let _=a+1;_<h;_++)f[_]=void 0;a=h;continue}f[a]=c}else f[a]=i[a]}let p;for(let a=f.length-1;a>=0;a--){let u=f[a];if(!u)continue;let c=p&&p.parentNode===e?p:null;if(v(u)||U(u)){u.parentNode!==e&&e.insertBefore(u,c),p=u;continue}if(u.parentNode===e){let d=c;d===null&&u.nextSibling===null||u.nextSibling===d||e.insertBefore(u,d)}else e.insertBefore(u,c);u.parentNode===e&&(p=u)}for(let a=0;a<r.length;a++)if(!l[a]){let u=r[a];u.parentNode===e&&e.removeChild(u)}}function Ie(e,t){return $(e)&&$(t)?!0:E(e)&&E(t)?e.tagName===t.tagName:!!(v(e)&&v(t)||U(e)&&U(t)||w(e)&&w(t))}function Le(e){return w(e)&&e.data.trim()==="/rmx:h"}function Be(e,t){for(let n=t+1;n<e.length;n++)if(Le(e[n]))return n;return t}function $(e){return e.nodeType===Node.TEXT_NODE}function E(e){return e.nodeType===Node.ELEMENT_NODE}function w(e){return e.nodeType===Node.COMMENT_NODE}function v(e){return w(e)&&e.data.trim()==="rmx:h"}function U(e){return w(e)&&e.data.trim()==="/rmx:h"}var He=!1;function D(...e){He&&console.log("DEBUG",...e)}function z(e,t){let n=[],r=[],i=l=>{l||(l=[]),Array.isArray(l)||(l=[l]),Je(n,l)?(ge(r),r=[],l.length>0&&ze(e,l,r),n=l):Ze(n,l)},o=()=>{ge(r),n=[],r=[]};return t?(i(t),o):{on:i,cleanup:o}}function M(e,t,n){return{type:e,handler:t,options:n}}function ye(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0}function Ve(e,t){return(n,r)=>{let i=new CustomEvent(t,{bubbles:!0,cancelable:!0,...n});if(r){let o=i.stopPropagation.bind(i);i.stopPropagation=()=>{o(),r.stopPropagation()}}e.dispatchEvent(i)}}function We(e,t,n){let r=new Set;for(let i of t){if(r.has(i.type))continue;r.add(i.type);let o=Ve(e,i.type),l=i.factory({dispatch:o,target:e},i.factoryOptions);if(l){let s=Array.isArray(l)?l:[l];n.push(...s)}}}function _e(e,t,n,r){D("attach",{target:e,eventType:t,descriptors:n});let i=new Set;for(let o of n){let l=new AbortController,s=f=>{if(l.abort(new DOMException("Handler reentered","EventReentry")),l=new AbortController,D("wrappedHandler",{target:e,eventType:t,event:f}),i.has(f)){D("prevented",{target:e,eventType:t,event:f});return}let p=o.handler(f,l.signal);p instanceof Promise&&p.catch(a=>{if(!(a instanceof DOMException&&a.name==="EventReentry"))throw a}),f.defaultPrevented&&(i.add(f),setTimeout(()=>i.delete(f),0))};e.addEventListener(t,s,o.options),r.push(()=>{l.abort(),e.removeEventListener(t,s,o.options)})}}function Ue(e,t,n){let r=new Map;for(let i of t)r.has(i.type)||r.set(i.type,[]),r.get(i.type).push(i);for(let[i,o]of r)_e(e,i,o,n)}function De(e,t,n){let r=new Map;for(let i of t)r.has(i.type)||r.set(i.type,[]),r.get(i.type).push(i);for(let[i,o]of r)_e(e,i,o,n)}function ze(e,t,n){let{custom:r,standard:i}=Ke(t);We(e,r,n),De(e,r,n),Ue(e,i,n)}function Ke(e){let t=[],n=[];for(let r of e)Xe(r)?t.push(r):n.push(r);return{custom:t,standard:n}}function Xe(e){return e.isCustom===!0}function Je(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.type!==i.type||r.isCustom!==i.isCustom||!ye(r.options,i.options)||!ye(r.factoryOptions,i.factoryOptions))return!0}return!1}function Ze(e,t){for(let n=0;n<t.length;n++)e[n].handler=t[n].handler}function ge(e){for(let t of e)t()}function T(){return new Proxy(function(t,n,r){return M(t,n,r)},{get(e,t){return typeof t=="string"?function(n,r){return M(t,n,r)}:e[t]}})}var we=T(),Ge=T(),Qe=T(),Ye=T(),Pe=T();function R(e){return[(r,i)=>({type:e,handler:r,options:i}),(...r)=>{let i=r[0];return new CustomEvent(e,{bubbles:!0,cancelable:!0,...i})}]}function q(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function K(e){return e.startsWith("&")||e.startsWith("@")||e.startsWith(":")||e.startsWith("[")||e.startsWith(".")}function et(e){if(!e.startsWith("@"))return!1;let t=e.toLowerCase();return t.startsWith("@keyframes")||t.startsWith("@-webkit-keyframes")||t.startsWith("@-moz-keyframes")||t.startsWith("@-o-keyframes")}function tt(e){let t=Object.entries(e).sort(([i],[o])=>i.localeCompare(o)),n=JSON.stringify(t),r=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);r=(r<<5)-r+o,r=r&r}return Math.abs(r).toString(36)}function Ce(e,t=""){let n=[],r=[],i=[],o=[];for(let[s,f]of Object.entries(e))if(K(s)){if(s.startsWith("@")){if(s.startsWith("@function")){let a=Se(f);a.trim().length>0?o.push(`${s} {
${F(a,2)}
}`):o.push(`${s} {
}`)}else if(et(s)){let a=nt(f);a.trim().length>0?o.push(`${s} {
${F(a,2)}
}`):o.push(`${s} {
}`)}else{let a=Ce(f,t);a.trim().length>0?i.push(`${s} {
${F(a,2)}
}`):i.push(`${s} {
  ${t} {
  }
}`)}continue}let p="";for(let[a,u]of Object.entries(f))u!=null&&(p+=`    ${q(a)}: ${u};
`);p&&r.push(`  ${s} {
${p}  }`)}else f!=null&&n.push(`  ${q(s)}: ${f};`);let l="";return o.length>0&&(l+=o.join(`
`)),t&&(n.length>0||r.length>0)&&(l+=(l?`
`:"")+`${t} {
`,n.length>0&&(l+=n.join(`
`)+`
`),r.length>0&&(l+=r.join(`
`)+`
`),l+="}"),i.length>0&&(l+=(l?`
`:"")+i.join(`
`)),l}function F(e,t){let n=" ".repeat(t);return e.split(`
`).map(r=>r.length?n+r:r).join(`
`)}function be(e){return typeof e=="object"&&e!==null}function nt(e){if(!be(e))return"";let t=[];for(let[n,r]of Object.entries(e)){if(!be(r))continue;let i=[];for(let[o,l]of Object.entries(r))l!=null&&(K(o)||i.push(`  ${q(o)}: ${l};`));i.length>0?t.push(`${n} {
${i.join(`
`)}
}`):t.push(`${n} {
}`)}return t.join(`
`)}function Se(e){let t=[],n=[];for(let[i,o]of Object.entries(e))if(K(i))if(i.startsWith("@")){let l=Se(o);l.trim().length>0?n.push(`${i} {
${F(l,2)}
}`):n.push(`${i} {
}`)}else continue;else o!=null&&t.push(`  ${q(i)}: ${o};`);let r="";return t.length>0&&(r+=t.join(`
`)),n.length>0&&(r+=(r?`
`:"")+n.join(`
`)),r}function j(e,t){if(Object.keys(e).length===0)return{className:"",css:""};let n=tt(e),r=`rmx-${n}`,i=t.get(n);if(i)return i;let o=Ce(e,`.${r}`),l={className:r,css:o};return t.set(n,l),l}function X(e="rmx"){let t=new CSSStyleSheet;document.adoptedStyleSheets.push(t);let n=new Map,r=new Set;function i(s){return n.has(s)}function o(s,f){r.has(s)||(r.add(s),t.insertRule(`@layer ${e} { ${f} }`))}function l(s){}return{insert:o,remove:l,has:i}}var rt=0,G=Symbol("TEXT_NODE"),ke="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xlink",Ne="http://www.w3.org/XML/1998/namespace",[ot,lt]=R("rmx:connect"),[at,ft]=R("rmx:disconnect");var Ee=new Map,Ae=typeof window<"u"?X():null;function te(){let e=new Map,t=[];function n(r,i){let o=r._parent;for(;o;){if(V(o)&&i.has(o))return!0;o=o._parent}return!1}return{enqueue(r,i,o){e.set(r,[i,o]),queueMicrotask(()=>this.dequeue())},enqueueTasks(r){t.push(...r),queueMicrotask(()=>this.dequeue())},dequeue(){let r=new Map(e);if(e.clear(),r.size>0){let i=Array.from(r);for(let[o,[l,s]]of i){if(n(o,r))continue;let f=o._handle,p=o._content,a=o._parent;Y(f,p,o,l,f.frame,this,a,s)}}if(t.length>0){for(let i of t)i();t=[]}}}}var st=Symbol("ROOT_VNODE");function ne([e,t],n={}){let r=null,i=n.frame??O(),o=n.scheduler??te(),l=t.parentNode;m(l,"Expected parent node"),m(t.parentNode===l,"Boundaries must share parent");let s=e.nextSibling;return{render(f){let p=A(f);B(r,p,l,i,o,{type:st},t,s),r=p,s=null},remove(){r=null},flush(){o.dequeue()}}}function J(e){return"children"in e.props?Array.isArray(e.props.children)?e.props.children.flat(1/0).map(A):[A(e.props.children)]:[]}function A(e){if(e==null||typeof e=="boolean")return{type:G,_text:""};if(typeof e=="string"||typeof e=="number"||typeof e=="bigint")return{type:G,_text:String(e)};if(Array.isArray(e))return{type:S,_children:e.flat(1/0).map(A)};if(e.type===S)return{type:S,_children:J(e)};if(e.type===N)return{type:N,_fallback:e.props.fallback,_children:J(e)};if(Nt(e)){let t=J(e);return{type:e.type,props:e.props,_children:t}}m(!1,"Unexpected RemixNode")}function B(e,t,n,r,i,o,l,s){if(t._parent=o,e===null){g(t,n,r,i,o,l,s);return}if(e.type!==t.type){Oe(e,t,n,r,i,o,l);return}if(le(e)&&oe(t)){_t(e,t,i,o);return}if(fe(e)&&ae(t)){pt(e,t,n,r,i,o);return}if(V(e)&&H(t)){$e(e,t,r,i,n,o);return}if(x(e)&&x(t)){I(e._children,t._children,n,r,i,o,void 0,l);return}if(L(e)&&L(t)){ut(e,t,n,r,i,o);return}if(e.type===C&&t.type===C)throw new Error("TODO: Frame diff not implemented");m(!1,"Unexpected diff case")}function ut(e,t,n,r,i,o){if(e._tripped){Oe(e,t,n,r,i,o);return}let l=[];try{for(let s=0;s<e._children.length;s++){let f=e._children[s];B(f,t._children[s],n,r,i,o),l.unshift(f)}k(e,{_parent:o,_tripped:!1,_added:l})}catch(s){for(let a of l)y(a,n,i);let f=ie(t,s),p=b(e)||se(e,o)||void 0;g(f,n,r,i,o,p),k(e,{_parent:o,_tripped:!0,_added:[f]})}}function Oe(e,t,n,r,i,o,l){l=l||b(e)||se(e,o)||void 0,g(t,n,r,i,o,l),y(e,n,i)}function pt(e,t,n,r,i,o){I(e._children,t._children,e._dom,r,i,t),Q(e.props,t.props,e._dom);let l={_dom:e._dom,_parent:o,_events:e._events};ee(t,l,i,n,r)}function ct(e,t,n){let r=e.css?j(e.css,Ee).className:"",{className:i,css:o}=t.css?j(t.css,Ee):{className:"",css:""};r!==i&&(r&&(n.classList.remove(r),Ae.remove(r)),o&&i&&(n.classList.add(i),Ae.insert(i,o)))}function Q(e,t,n){let r=n.namespaceURI===ke;(t.css||e.css)&&ct(e,t,n);for(let i in e)if(!ve(i)&&(!(i in t)||t[i]==null)){if(xe(n,i,r))try{n[i]="";continue}catch{}let{ns:o,attr:l}=Te(i,r);o?n.removeAttributeNS(o,l):n.removeAttribute(l)}for(let i in t){if(ve(i))continue;let o=t[i];if(o==null)continue;if(e[i]!==o){let{ns:s,attr:f}=Te(i,r);if(f==="style"&&typeof o=="object"&&o&&!Array.isArray(o)){n.setAttribute("style",ht(o));continue}if(xe(n,i,r))try{n[i]=o??"";continue}catch{}if(typeof o=="function")continue;let p=i.startsWith("aria-")||i.startsWith("data-");if(o!=null&&(o!==!1||p)){let a=i==="popover"&&o===!0?"":String(o);s?n.setAttributeNS(s,f,a):n.setAttribute(f,a)}else s?n.removeAttributeNS(s,f):n.removeAttribute(f)}}}var dt=new Set(["width","height","href","list","form","tabIndex","download","rowSpan","colSpan","role","popover"]);function xe(e,t,n){return n||dt.has(t)?!1:t in e}function re(e){return L(e)&&e._added!=null&&e._tripped!=null}function H(e){return typeof e.type=="function"&&e.type!==C}function V(e){return H(e)&&e._content!==void 0}function ve(e){return e==="children"||e==="key"||e==="on"||e==="css"}var mt=new Set(["z-index","opacity","flex-grow","flex-shrink","flex-order","grid-area","grid-row","grid-column","font-weight","line-height","order","orphans","widows","zoom","columns","column-count"]);function ht(e){let t=[];for(let[n,r]of Object.entries(e)){if(r==null||typeof r=="boolean"||typeof r=="number"&&!Number.isFinite(r))continue;let i=n.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`),l=typeof r=="number"&&r!==0&&!mt.has(i)&&!i.startsWith("--")?`${r}px`:Array.isArray(r)?r.join(", "):String(r);t.push(`${i}: ${l};`)}return t.join(" ")}function yt(e){let t=e;for(;t;){if(typeof t.type=="string"){if(t.type==="foreignObject")return!1;if(t.type==="svg")return!0}t=t._parent}return!1}function Te(e,t){return e.startsWith("aria-")||e.startsWith("data-")?{attr:e}:t?e==="xlinkHref"?{ns:it,attr:"xlink:href"}:e==="xmlLang"?{ns:Ne,attr:"xml:lang"}:e==="xmlSpace"?{ns:Ne,attr:"xml:space"}:e==="viewBox"||e==="preserveAspectRatio"||e==="gradientUnits"||e==="gradientTransform"||e==="patternUnits"||e==="patternTransform"||e==="clipPathUnits"||e==="maskUnits"||e==="maskContentUnits"?{attr:e}:{attr:gt(e)}:e==="className"?{attr:"class"}:e==="htmlFor"?{attr:"for"}:e==="tabIndex"?{attr:"tabindex"}:e==="acceptCharset"?{attr:"accept-charset"}:e==="httpEquiv"?{attr:"http-equiv"}:{attr:e.toLowerCase()}}function gt(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/_/g,"-").toLowerCase()}function _t(e,t,n,r){e._text!==t._text&&(e._dom.textContent=t._text),P(t,{_dom:e._dom,_parent:r})}function Z(...e){console.error("Hydration mismatch:",...e)}function g(e,t,n,r,i,o,l){e._parent=i,l=Et(l??null);let s=o?f=>t.insertBefore(f,o):f=>t.appendChild(f);if(oe(e)){if(l instanceof Text)return P(e,{_dom:l,_parent:i}),l.data!==e._text&&(Z("text mismatch",l.data,e._text),l.data=e._text),l.nextSibling;let f=document.createTextNode(e._text);return P(e,{_dom:f,_parent:i}),s(f),l}if(ae(e)){if(l instanceof Element)if(l.tagName.toLowerCase()===e.type){Q({},e.props,l),ee(e,{_dom:l,_parent:i},r,t,n);let a=l.firstChild,u=I(null,e._children,l,n,r,e,a);return u&&Z("excess",u),l.nextSibling}else Z("tag",l.tagName.toLowerCase(),e.type),l.remove(),l=void 0;let p=yt(i)||e.type==="svg"?document.createElementNS(ke,e.type):document.createElement(e.type);return Q({},e.props,p),I(null,e._children,p,n,r,e),ee(e,{_dom:p,_parent:i},r,t,n),s(p),l}if(x(e)){for(let f of e._children)l=g(f,t,n,r,i,o,l);return l}if(L(e)){let f=[];try{for(let p of e._children)g(p,t,n,r,e,o),f.unshift(p);k(e,{_parent:i,_tripped:!1,_added:f})}catch(p){let a=ie(e,p);for(let u of f)y(u,t,r);g(a,t,n,r,e,o),k(e,{_parent:i,_tripped:!0,_added:[a]})}return}if(H(e))return $e(null,e,n,r,t,i,o,l),l;if(e.type===C)throw new Error("TODO: Frame insert not implemented");if(e.type===N)throw new Error("TODO: Catch insert not implemented");m(!1,"Unexpected node type")}function Y(e,t,n,r,i,o,l,s,f){let p=n.props.on?Array.isArray(n.props.on)?n.props.on:[n.props.on]:void 0,a=p?{...n.props,on:p}:n.props,[u,c]=e.render(a),d=A(u);B(t,d,r,i,o,n,s,f);let h=bt(n,{_content:d,_handle:e,_parent:l});e.setScheduleUpdate(()=>{o.enqueue(h,r,s)}),o.enqueueTasks(c)}function $e(e,t,n,r,i,o,l,s){if(e===null){t._handle=de({id:String(++rt),frame:n,type:t.type,raise:a=>{Me(a,t,i,n,r)},getContext:a=>wt(o,a)}),Y(t._handle,null,t,i,n,r,o,l,s);return}t._handle=e._handle;let{_content:f,_handle:p}=e;Y(p,f,t,i,n,r,o,l,s)}function wt(e,t){let n=e;for(;n;){if(n.type===t&&H(n))return n._handle.getContextValue();n=n._parent}}function y(e,t,n){if(le(e)){t.removeChild(e._dom);return}if(fe(e)){e._dom.dispatchEvent(ft({bubbles:!1})),t.removeChild(e._dom);let r=e._events;r&&n.enqueueTasks([()=>r.cleanup()]);return}if(x(e)){for(let r of e._children)y(r,t,n);return}if(V(e)){y(e._content,t,n);let r=e._handle.remove();n.enqueueTasks(r);return}if(x(e)){for(let r of e._children)y(r,t,n);return}if(re(e)){for(let r of e._added)y(r,t,n);return}}function I(e,t,n,r,i,o,l,s){if(e===null){for(let a of t)l=g(a,n,r,i,o,s,l);return l}let f=e.length,p=t.length;for(let a=0;a<p;a++){let u=a<f?e[a]:null;B(u,t[a],n,r,i,o,s,l)}if(f>p)for(let a=p;a<f;a++){let u=e[a];u&&y(u,n,i)}}function P(e,t){return Object.assign(e,t)}function bt(e,t){return Object.assign(e,t)}function k(e,t){return Object.assign(e,t)}function ee(e,t,n,r,i){let o=t._dom,l=t._events||z(o),s=e.props.on?Array.isArray(e.props.on)?e.props.on:[e.props.on]:[],p=St(s,a=>Me(a,e,r,i,n));return n.enqueueTasks([()=>l.on(p)]),o.isConnected||n.enqueueTasks([()=>o.dispatchEvent(lt({bubbles:!1}))]),t._events=l,Object.assign(e,t)}function ie(e,t){let n=typeof e._fallback=="function"?e._fallback(t):e._fallback;return A(n)}function Me(e,t,n,r,i){let o=Ct(t);if(o){let l=ie(o,e),s=b(o)||se(o,o._parent)||void 0;g(l,n,r,i,o,s);for(let f of o._added)y(f,n,i);k(o,{_tripped:!0,_added:[l]})}}function Ct(e){let t=e;for(;t;){if(re(t))return t;t=t._parent}return null}function St(e,t){return Array.isArray(e)||(e=[e]),e.map(n=>{let r=n.handler;return Object.assign(n,{handler:(i,o)=>{try{return r(i,o)}catch(l){t(l)}}}),n})}function x(e){return e.type===S}function L(e){return e.type===N}function oe(e){return e.type===G}function le(e){return oe(e)&&e._dom instanceof Text}function ae(e){return typeof e.type=="string"}function fe(e){return ae(e)&&e._dom instanceof Element}function Nt(e){return typeof e=="object"&&e!==null&&"$rmx"in e}function b(e){if(!e)return null;if(le(e)||fe(e))return e._dom;if(V(e))return b(e._content);if(x(e))for(let t of e._children){let n=b(t);if(n)return n}if(re(e))for(let t of e._added){let n=b(t);if(n)return n}return null}function se(e,t){if(!t||!Array.isArray(t._children))return null;let n=t._children,r=n.indexOf(e);if(r===-1)return null;for(let i=r+1;i<n.length;i++){let o=b(n[i]);if(o)return o}return null}function Et(e){for(;e&&e.nodeType===Node.COMMENT_NODE;)e=e.nextSibling;return e}var Cn=Symbol("TOP_FRAME"),At={loadModule:async()=>{throw new Error("loadModule not implemented")},pendingHydrationRoots:new Map,src:"/",scheduler:te(),resolveFrame:async()=>{throw new Error("resolveFrame not implemented")}};function W(e,t){let n={...At,...t},r=Fe(e),i=n.scheduler,l={frame:O({src:n.src,reload:async()=>{let a=await n.resolveFrame(n.src);await s(a)},replace:async a=>{await s(a)}}),loadModule:n.loadModule,pendingRoots:n.pendingHydrationRoots,scheduler:n.scheduler,addFrame(a){let u=Ot(a),c=u.nextElementSibling;m(c instanceof HTMLScriptElement,"Invalid frame script");let d=Tt(c);return W([a,u],{...n,src:d.src,marker:d}),c}};async function s(a){let u=typeof a=="string"?Rt(a):a,c=Fe(u);await Re(c,l),me(r.childNodes,Array.from(c.childNodes),l),ue(r.childNodes,l)}async function f(){if(await Re(r,l),ue(Array.from(r.childNodes),l),n.marker?.status==="pending"){let a=xt(n.marker.id);a?await s(a):vt(n.marker.id,s)}}let p=f();return{render:s,ready:()=>p,flush:()=>i.dequeue()}}function xt(e){let t=document.querySelector(`template#${e}`);if(t instanceof HTMLTemplateElement){let n=t.content;return t.remove(),n}return null}function vt(e,t){let n=new MutationObserver(async r=>{for(let i of r)for(let o of i.addedNodes)o instanceof HTMLTemplateElement&&o.id===e&&(n.disconnect(),o.remove(),t(o.content))});n.observe(document.body,{childList:!0})}function Tt(e){let t=JSON.parse(e.textContent||"{}");return m(kt(t)),t}function kt(e){return typeof e=="object"&&e!==null&&"src"in e&&"id"in e&&"status"in e}function Ot(e){let t=e.nextSibling;for(;t&&t.nodeType!==8;)if(t=t.nextSibling,t instanceof Comment&&t.data.trim().startsWith("frame:end"))return t;throw new Error("End comment not found")}function $t(e,t){let n=e.previousSibling;for(;n&&n.nodeType!==8;)if(n=n.previousSibling,n instanceof Comment&&n.data.trim()===t)return n;m(!1,"Start comment not found")}function Mt(e,t,n,r){r.pendingRoots.delete(t);let i=ne([t,n],{scheduler:r.scheduler,frame:r.frame});Object.defineProperty(t,"$rmx",{value:i,enumerable:!1}),i.render(e)}function ue(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(r instanceof Comment&&t.pendingRoots.has(r)){let i=t.pendingRoots.get(r);m(i,"Expected hydration element");let[o,l]=i;Mt(l,r,o,t),n=e.indexOf(o)}if(Ft(r)){let i=t.addFrame(r);n=e.indexOf(i),i.remove()}else r.childNodes.length>0&&ue(Array.from(r.childNodes),t)}}function Rt(e){let t=document.createElement("template");return t.innerHTML=e.trim(),t.content}function Ft(e){return e instanceof Comment&&e.data.trim().startsWith("frame:start:")}var qt='script[type="application/json"][rmx-hydrated]';async function Re(e,t){let n=It(e);await Promise.all(n.map(async r=>{let i=JSON.parse(r.textContent||"{}");m(Lt(i),"Invalid hydration script");let o=await t.loadModule(i.moduleUrl,i.exportName),l=ce(o,i.props),[s,f]=jt(r);t.pendingRoots.set(s,[f,l]),r.remove()}))}function jt(e){let t=e.previousSibling;return m(t instanceof Comment,"Expected comment"),[$t(t,"rmx:h"),t]}function It(e){return Array.from(e.root.querySelectorAll(qt))}function Lt(e){return typeof e=="object"&&e!==null&&"moduleUrl"in e&&"exportName"in e&&"props"in e}function Fe(e){return Array.isArray(e)?Ht(e):Bt(e)}function Bt(e){return{root:e,appendChild:t=>e.appendChild(t),get childNodes(){return Array.from(e.childNodes)},querySelectorAll:t=>Array.from(e.querySelectorAll(t)),querySelector:t=>e.querySelector(t),insertBefore:(t,n)=>e.insertBefore(t,n)}}function Ht(e){let t=e[1].parentNode;m(t,"Invalid comment container");let n=s=>{t.insertBefore(s,e[1])},r=()=>{let s=[],f=e[0].nextSibling;for(;f&&f!==e[1];)s.push(f),f=f.nextSibling;return s};return{get childNodes(){return r()},appendChild:n,querySelectorAll:s=>{let f=document.createRange();f.setStartAfter(e[0]),f.setEndBefore(e[1]);let p=t.querySelectorAll(s),a=[];for(let u=0;u<p.length;u++){let c=p[u];f.intersectsNode(c)&&a.push(c)}return a},querySelector:s=>{let f=document.createRange();f.setStartAfter(e[0]),f.setEndBefore(e[1]);let p=t.querySelectorAll(s);for(let a=0;a<p.length;a++){let u=p[a];if(f.intersectsNode(u))return u}return null},insertBefore:(s,f)=>{t.insertBefore(s,f)},root:t}}W(document,{async loadModule(e,t){let n=await import(e);if(!n)throw new Error(`Unknown module: ${e}#${t}`);let r=n[t];if(!r)throw new Error(`Unknown component: ${e}#${t}`);return r},async resolveFrame(e){let t=await fetch(e);if(t.ok)return t.text();throw new Error(`Failed to fetch ${e}`)}});
//# sourceMappingURL=entry.js.map
