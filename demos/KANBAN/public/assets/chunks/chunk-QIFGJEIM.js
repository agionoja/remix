import{a as O}from"./chunk-DYY4REEE.js";var V=["POST","PUT","PATCH","DELETE","OPTIONS"],de=["GET","HEAD",...V];function B(t){let e,r,s,n,i,a=t.indexOf("?");a!==-1&&(i=[a+1,t.length],t=t.slice(0,a));let o=0,d=t.indexOf("://");if(d!==-1){d!==0&&(e=[0,d]),o=d+3;let p=t.indexOf("/",o);p===-1&&(p=t.length);let l=t.lastIndexOf(":",p-1);if(l!==-1&&l>=o){let h=!0;for(let m=l+1;m<p;m++){let y=t.charCodeAt(m);if(y<48||y>57){h=!1;break}}h&&l+1<p?(r=[o,l],s=[l+1,p]):r=[o,p]}else r=[o,p];o=p===t.length?p:p+1}return o!==t.length&&(t.charAt(o)==="/"&&(o+=1),n=[o,t.length]),{protocol:e,hostname:r,port:s,pathname:n,search:i}}function W(t){let e=new Map;for(let r of t.split("&")){if(r==="")continue;let s=r.indexOf("=");if(s===-1){let o=b(r);e.get(o)||e.set(o,{requireAssignment:!1,allowBare:!0});continue}let n=b(r.slice(0,s)),i=r.slice(s+1),a=e.get(n);if(a?(a.requireAssignment=!0,a.allowBare=!1):(a={requireAssignment:!0,allowBare:!1},e.set(n,a)),i.length>0){let o=b(i);a.requiredValues||(a.requiredValues=new Set),a.requiredValues.add(o)}}return e}function $(t){t.startsWith("?")&&(t=t.slice(1));let e=new Set,r=new Set,s=new Map;if(t.length>0)for(let n of t.split("&")){if(n==="")continue;let i=n.indexOf("=");if(i===-1){let l=b(n);e.add(l);continue}let a=b(n.slice(0,i)),o=n.slice(i+1);r.add(a);let d=b(o),p=s.get(a)??new Set;s.has(a)||s.set(a,p),p.add(d)}return{namesWithoutAssignment:e,namesWithAssignment:r,valuesByKey:s}}function b(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}var R=class extends Error{source;position;partName;constructor(e,r,s,n){super(`${e} in ${r}`),this.name="ParseError",this.source=s,this.position=n,this.partName=r}};function P(t){let e,r,s,n,i,a,o=B(t);return o.protocol&&(e=H("protocol","",t,...o.protocol)),o.hostname&&(r=H("hostname",".",t,...o.hostname)),o.port&&(s=t.slice(...o.port)),o.pathname&&(n=H("pathname","/",t,...o.pathname)),o.search&&(i=t.slice(...o.search),a=W(i)),{protocol:e,hostname:r,port:s,pathname:n,search:i,searchConstraints:a}}var U=/^[a-zA-Z_$][a-zA-Z_$0-9]*/;function H(t,e,r,s,n){let i=[],a=i,o=[i],d=[],p=h=>{let m=a.at(-1);m?.type==="text"?m.value+=h:a.push({type:"text",value:h})},l=s;for(;l<n;){let h=r[l];if(h===e){a.push({type:"separator"}),l+=1;continue}if(h===":"){l+=1;let m=r.slice(l,n),y=U.exec(m)?.[0];if(!y)throw new R("missing variable name",t,r,l);a.push({type:"variable",name:y}),l+=y.length;continue}if(h==="*"){l+=1;let m=r.slice(l,n),y=U.exec(m)?.[0];y?(a.push({type:"wildcard",name:y}),l+=y.length):a.push({type:"wildcard"});continue}if(h==="("){o.push(a=[]),d.push(l),l+=1;continue}if(h===")"){if(o.length===1)throw new R("unmatched )",t,r,l);let m=o.pop();a=o[o.length-1],a.push({type:"optional",tokens:m}),d.pop(),l+=1;continue}if(h==="\\"){let m=r.at(l+1);if(!m||l+1>=n)throw new R("dangling escape",t,r,l);p(m),l+=2;continue}p(h),l+=1}if(d.length>0)throw new R("unmatched (",t,r,d[0]);return i}var C=class extends Error{paramName;constructor(e){super(`Missing required parameter: ${e}`),this.name="MissingParamError",this.paramName=e}};function F(t,e,r){e=e??{};let s="";if(t.hostname!=null){let n=t.protocol!=null?k(t.protocol,"",e):"https",i=k(t.hostname,".",e),a=t.port!=null?`:${t.port}`:"";s+=`${n}://${i}${a}`}if(t.pathname!=null){let n=k(t.pathname,"/",e);s+=n.startsWith("/")?n:`/${n}`}else s+="/";if(r){let n;if(typeof r=="object"&&!Array.isArray(r)&&!(r instanceof URLSearchParams)){let a={};for(let o in r){let d=r[o];d!=null&&(a[o]=String(d))}n=new URLSearchParams(a)}else n=new URLSearchParams(r);let i=n.toString();i!==""&&(s+=`?${i}`)}else t.search&&(s+=`?${t.search}`);return s}function k(t,e,r){let s="";for(let n of t)if(n.type==="variable"||n.type==="wildcard"){let i=n.name??"*";if(r[i]==null)throw new C(i);s+=String(r[i])}else if(n.type==="text")s+=n.value;else if(n.type==="separator")s+=e;else if(n.type==="optional")try{s+=k(n.tokens,e,r)}catch(i){if(!(i instanceof C))throw i}return s}function j(t){let e="";if(t.hostname!=null){let r=t.protocol!=null?w(t.protocol):"",s=t.hostname!=null?w(t.hostname,"."):"",n=t.port!=null?`:${t.port}`:"";e+=`${r}://${s}${n}`}if(t.pathname!=null){let r=w(t.pathname,"/");e+=A(t.pathname)?r:`/${r}`}else e+="/";if(t.search)e+=`?${t.search}`;else if(t.searchConstraints!=null){let r=pe(t.searchConstraints);r!==""&&(e+=`?${r}`)}return e}function A(t){if(t.length===0)return!1;let e=t[0];return e.type==="separator"?!0:e.type==="optional"&&e.tokens&&e.tokens.length>0?A(e.tokens):!1}function w(t,e=""){let r="";for(let s=0;s<t.length;s++){let n=t[s];n.type==="variable"?r+=`:${n.name}`:n.type==="wildcard"?r+=`*${n.name??""}`:n.type==="text"?r+=n.value:n.type==="separator"?r+=e:n.type==="optional"&&(r+=`(${w(n.tokens,e)})`)}return r}function pe(t){let e=[];for(let[r,s]of t.entries())if(s.allowBare&&!s.requireAssignment)e.push(r);else if(s.requiredValues&&s.requiredValues.size>0)for(let n of s.requiredValues)e.push(`${r}=${n}`);else s.requireAssignment&&e.push(`${r}=`);return e.join("&")}function Y(t,e){let{protocol:r,hostname:s,port:n}=e.hostname!=null?e:t,i=he(t.pathname,e.pathname),a=fe(t.searchConstraints,e.searchConstraints);return j({protocol:r,hostname:s,port:n,pathname:i,searchConstraints:a})}function he(t,e){if(e==null||e.length===0)return t;if(t==null||t.length===0)return e;let r=[...t];r.length>0&&r[r.length-1].type==="separator"&&r.pop();let s=A(e);return e.length===1&&e[0].type==="separator"||(s||r.push({type:"separator"}),r.push(...e)),r}function fe(t,e){if(e==null)return t;if(t==null)return e;let r=new Map(t);for(let[s,n]of e.entries()){let i=r.get(s);if(i==null)r.set(s,n);else{let a={requireAssignment:i.requireAssignment||n.requireAssignment,allowBare:i.allowBare&&n.allowBare,requiredValues:void 0};(i.requiredValues||n.requiredValues)&&(a.requiredValues=new Set([...i.requiredValues||[],...n.requiredValues||[]])),r.set(s,a)}}return r}var c=class t{source;ignoreCase;#e;#t;constructor(e,r){this.source=typeof e=="string"?e:e.source,this.ignoreCase=r?.ignoreCase===!0,this.#e=P(this.source)}href(...e){return F(this.#e,...e)}join(e){let r=P(typeof e=="string"?e:e.source);return new t(Y(this.#e,r),{ignoreCase:this.ignoreCase})}match(e){typeof e=="string"&&(e=new URL(e));let{matchOrigin:r,matcher:s,paramNames:n}=this.#r(),i=this.ignoreCase?e.pathname.toLowerCase():e.pathname,a=s.exec(r?`${e.origin}${i}`:i);if(a===null)return null;let o={};for(let d=0;d<n.length;d++){let p=n[d];o[p]=a[d+1]}return this.#e.searchConstraints!=null&&!ce(e.search,this.#e.searchConstraints)?null:{url:e,params:o}}#r(){return this.#t?this.#t:(this.#t=me(this.#e,this.ignoreCase),this.#t)}test(e){return this.match(e)!==null}toString(){return this.source}};function me(t,e){let{protocol:r,hostname:s,port:n,pathname:i}=t,a=s!==void 0,o,d=[];if(a){let p=r?M(r,"",".*",d,!0):"[^:]+",l=s?M(s,".","[^.]+?",d,!0):"[^/:]+",h=n!==void 0?`:${q(n)}`:"(?::[0-9]+)?",m=i?M(i,"/","[^/]+?",d,e):"";o=new RegExp(`^${p}://${l}${h}/${m}$`)}else{let p=i?M(i,"/","[^/]+?",d,e):"";o=new RegExp(`^/${p}$`)}return{matchOrigin:a,matcher:o,paramNames:d}}function M(t,e,r,s,n){let i="";for(let a of t)a.type==="variable"?(s.push(a.name),i+=`(${r})`):a.type==="wildcard"?a.name?(s.push(a.name),i+="(.*)"):i+="(?:.*)":a.type==="text"?i+=q(n?a.value.toLowerCase():a.value):a.type==="separator"?i+=q(e):a.type==="optional"&&(i+=`(?:${M(a.tokens,e,r,s,n)})?`);return i}function q(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ce(t,e){let{namesWithoutAssignment:r,namesWithAssignment:s,valuesByKey:n}=$(t);for(let[i,a]of e){let o=s.has(i),d=r.has(i),p=n.get(i);if(a.requiredValues&&a.requiredValues.size>0){if(!p)return!1;for(let l of a.requiredValues)if(!p.has(l))return!1;continue}if(a.requireAssignment){if(!o)return!1;continue}if(!(o||d))return!1}return!0}var g=class{method;pattern;constructor(e,r){this.method=e,this.pattern=typeof r=="string"?new c(r):r}href(...e){return this.pattern.href(...e)}match(e){return this.pattern.match(e)}};function f(t,e){return typeof t=="string"||t instanceof c?L(typeof t=="string"?new c(t):t,e):L(new c("/"),t)}function L(t,e){let r={};for(let s in e){let n=e[s];n instanceof g?r[s]=new g(n.method,t.join(n.pattern)):typeof n=="string"||n instanceof c?r[s]=new g("ANY",t.join(n)):typeof n=="object"&&n!=null&&"pattern"in n?r[s]=new g(n.method??"ANY",t.join(n.pattern)):r[s]=L(t,n)}return r}function u(t){return new g("GET",t)}function I(t){return new g("POST",t)}function T(t,e){let r=e?.formMethod??"POST",s=e?.names?.index??"index",n=e?.names?.action??"action";return f(t,{[s]:{method:"GET",pattern:"/"},[n]:{method:r,pattern:"/"}})}var K=["index","new","show","create","edit","update","destroy"];function S(t,e){if(e?.only&&e?.exclude)throw new Error('Cannot specify both "only" and "exclude" options');let r;e?.only?r=e.only:e?.exclude?r=K.filter(m=>!e.exclude.includes(m)):r=K;let s=e?.param??"id",n=e?.names?.index??"index",i=e?.names?.new??"new",a=e?.names?.show??"show",o=e?.names?.create??"create",d=e?.names?.edit??"edit",p=e?.names?.update??"update",l=e?.names?.destroy??"destroy",h={};return r.includes("index")&&(h[n]={method:"GET",pattern:"/"}),r.includes("new")&&(h[i]={method:"GET",pattern:"/new"}),r.includes("show")&&(h[a]={method:"GET",pattern:`/:${s}`}),r.includes("create")&&(h[o]={method:"POST",pattern:"/"}),r.includes("edit")&&(h[d]={method:"GET",pattern:`/:${s}/edit`}),r.includes("update")&&(h[p]={method:"PUT",pattern:`/:${s}`}),r.includes("destroy")&&(h[l]={method:"DELETE",pattern:`/:${s}`}),f(t,h)}var gn=f({assets:u("/assets/*path"),uploads:u("/uploads/*key"),playground:u("/playground"),account:f("/account",{}),auth:{login:T("/login"),logout:I("/logout"),register:T("/register"),forgotPassword:T("/forgot-password"),resetPassword:T("reset-password/:token"),providers:f("/providers",{google:f("/google",{login:u("/login"),callback:u("/callback")})})},admin:f("/admin",{search:u("/search"),stores:S("/stores",{param:"storeId"}),suppliers:f("/suppliers",{export:u("/export"),...S("/",{param:"supplierId"})}),orders:f("/orders",{index:u("/"),summary:u("/summary"),items:f("/items",{export:u("/export"),...S("/",{param:"orderId"})})}),dashboard:f("/dashboard",{index:u("/"),summary:u("/summary"),salesAndPurchases:u("/sales-purchases"),stock:f("/stock",{topSelling:u("/top-selling"),lowQuantity:u("/low-quantity")})}),report:f("/report",{index:u("/"),profitAndRevenue:u("/profit-revenue"),bestselling:f("/bestselling",{category:u("/category"),product:u("/product")})}),inventory:f("/inventory",{index:u("/"),summary:u("summary"),products:f("/product",{...S("/",{exclude:["show"],param:"productId"}),export:u("/export"),show:{...f("/:productId",{overview:u("/overview"),adjustments:u("/adjustments"),history:u("/history"),download:u("/download")})}})})})});function Tn(t,e,r){return _(t,e,r)}function Sn(t,e,r){return _(t,e,r)}function _(t,e,r){return r!==void 0&&(e={...e,key:r}),O(t,e)}export{gn as a,Tn as b,Sn as c};
//# sourceMappingURL=chunk-QIFGJEIM.js.map
